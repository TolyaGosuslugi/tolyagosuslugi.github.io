<html lang="en">
	<head>
		<title>dementia</title>
		<link href="styles/main.css" rel="stylesheet" />
		<link rel="icon" type="image/png" href="icon.ico"/>
	</head>
	
	<body>
		<section class="header">
			<div class="headerBlock container">
				<div class="links">
					<a href="index.html">Home</a>
					<span>|</span>
					<a href="#">PROJECTS</a>
				</div>
				<div class="player" title="Music Player">
					<img id="playButton" src="img/player/play.svg">
					<input type="range" id="volume" min="0" max="100">
					<audio id="playerAudio" src="audio/ivanzolo2004-lavanda.ogg" loop></audio>
				</div>
			</div>
		</section>
		
		<section class="main">
			<div class="container indexBlock">
				<ul class="cards-list">
					<li class="card">
						<div class="card__title">NekoSource</div>
						<div class="card__desc">GUI repository management on Qt</div>
						<button class="card__btn"><a href="https://github.com/TolyaGosuslugi/NekoSource" target="_blank">View</a></button>
					</li>
					<li class="card">
						<div class="card__title">NachosConsole</div>
						<div class="card__desc">just a simple console on C++</div>
						<button class="card__btn"><a href="https://github.com/nachosteam/nachos-console" target="_blank">View</a></button>
					</li>
				</ul>
			</div>
		</section>

		<script>
			var audio = document.getElementById("playerAudio");
			var volumeSlider = document.getElementById("volume");
			var localVol = localStorage.getItem('volume');
			if (localVol != null) {
				audio.volume = localVol/100;
				volumeSlider.value = localVol;
			}
			else {
				localStorage.setItem('volume', 20);
				audio.volume = localStorage.getItem('volume')/10;
				volumeSlider.value = localStorage.getItem('volume');
			}
			document.getElementById("playButton").addEventListener('click', function() {
				if (audio.paused) {
					audio.play();
					document.getElementById('playButton').src = 'img/player/pause.svg';
				}
				else if (!audio.paused) {
					audio.pause();
					document.getElementById('playButton').src = 'img/player/play.svg';
				}
			});
			
			volumeSlider.addEventListener("input", () => {
				audio.volume = volumeSlider.value/100;
				localStorage.setItem('volume', volumeSlider.value);
			});
		</script>
	</body>
</html>
